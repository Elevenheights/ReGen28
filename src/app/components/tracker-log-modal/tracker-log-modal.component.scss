// TrackerLogModal Component Styles

// Variables
$sheet-radius: 2rem;
$transition-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
$transition-smooth: cubic-bezier(0.4, 0.0, 0.2, 1);

// Modal Global Overrides
ion-modal {
	--backdrop-opacity: 0.5;
	--background: transparent;

	&.clean-modal {
		--height: 85%; // Forced height to ensure scroll area exists
		--min-height: 50%;
		--max-height: 95%;
		--border-radius: #{$sheet-radius} #{$sheet-radius} 0 0;

		// Ensure the modal itself doesn't have a shadow that conflicts
		&::part(content) {
			border-radius: #{$sheet-radius} #{$sheet-radius} 0 0;
			overflow: hidden;
			box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.1);
		}
	}
}

// ------------------------------------------------------------------
// Animations
// ------------------------------------------------------------------

// Staggered Entry Animation
@keyframes slideUpFade {
	from {
		opacity: 0;
		transform: translateY(20px);
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.animate-entry {
	animation: slideUpFade 0.5s $transition-smooth forwards;
	opacity: 0; // Start hidden
}

.delay-100 {
	animation-delay: 100ms;
}

.delay-200 {
	animation-delay: 200ms;
}

.delay-300 {
	animation-delay: 300ms;
}

// Pulse effect for focus
@keyframes softPulse {
	0% {
		transform: scale(1);
	}

	50% {
		transform: scale(1.02);
	}

	100% {
		transform: scale(1);
	}
}

.pulse-on-click:active {
	animation: softPulse 0.3s $transition-bounce;
}

// ------------------------------------------------------------------
// UI Components
// ------------------------------------------------------------------

// Premium Card/Panel
.glass-panel {
	background: rgba(255, 255, 255, 0.8);
	backdrop-filter: blur(12px);
	-webkit-backdrop-filter: blur(12px);
	border: 1px solid rgba(255, 255, 255, 0.6);
	box-shadow:
		0 4px 6px -1px rgba(0, 0, 0, 0.02),
		0 2px 4px -1px rgba(0, 0, 0, 0.02);
	transition: transform 0.2s, box-shadow 0.2s;

	&.interactive:active {
		transform: scale(0.98);
		background: rgba(255, 255, 255, 0.95);
	}
}

// Custom Range Slider
ion-range {
	padding-top: 0;
	padding-bottom: 0;

	// Track
	--bar-background: rgba(0, 0, 0, 0.06);
	--bar-background-active: var(--tracker-color, #171717);
	--bar-height: 6px;
	--bar-border-radius: 999px;

	// Knob
	--knob-size: 24px;
	--knob-background: #fff;
	--knob-box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
	--knob-border-radius: 50%;

	// Pin
	--pin-background: var(--tracker-color, #171717);
	--pin-color: #fff;

	&::part(knob) {
		border: 2px solid var(--tracker-color, #171717);
		transition: transform 0.2s $transition-bounce;
	}

	&:active::part(knob) {
		transform: scale(1.1);
	}
}

.range-mood {
	--bar-background-active: linear-gradient(to right, #ef4444, #eab308, #22c55e);
	--knob-background: #fff;
}

// Textarea
textarea {
	font-family: inherit;

	&::placeholder {
		color: #a3a3a3;
	}
}

// ------------------------------------------------------------------
// Specific Element Styles
// ------------------------------------------------------------------

// The "Save Entry" Button
.btn-save-entry {
	position: relative;
	overflow: hidden;
	background-size: 200% auto;
	transition: 0.5s;

	&::after {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: linear-gradient(rgba(255, 255, 255, 0.2), transparent);
		opacity: 0;
		transition: 0.3s;
	}

	&:active {
		transform: scale(0.96);

		&::after {
			opacity: 1;
		}
	}
}

// Scrollbar hiding
.hide-scrollbar {
	-ms-overflow-style: none;
	scrollbar-width: none;

	&::-webkit-scrollbar {
		display: none;
	}
}