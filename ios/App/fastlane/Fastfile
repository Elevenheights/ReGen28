default_platform(:ios)

platform :ios do
  desc "Build for Appflow"
  lane :build_capacitor do
    # Xcode 15+ SPM signing workaround
    # Pass CODE_SIGN_STYLE=Manual to prevent SPM packages from requiring a team
    gym(
      scheme: "App",
      export_method: "development",
      xcargs: "CODE_SIGN_STYLE=Manual DEVELOPMENT_TEAM=3GNC95S8K6"
    )
  end
end
