default_platform(:ios)

platform :ios do
  desc "Build for Appflow"
  lane :build_capacitor do
    # Xcode 15+ SPM signing workaround:
    # - Always pass DEVELOPMENT_TEAM via xcargs so SPM targets can sign
    # - Control the signing identity via `GYM_CODE_SIGNING_IDENTITY` in `.env.default`
    gym(
      scheme: "App",
      export_method: "development",
      xcargs: "DEVELOPMENT_TEAM=3GNC95S8K6"
    )
  end
end
