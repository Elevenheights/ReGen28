default_platform(:ios)

platform :ios do
  desc "Build for Appflow"
  lane :build_capacitor do
    # Appflow's build runner overrides this Fastfile with its own pipeline.
    # The GYM_XCARGS environment variable (set via Appflow Environments or
    # fastlane/.env.default) injects DEVELOPMENT_TEAM into the xcodebuild
    # command so SPM packages can sign properly.
    gym(
      scheme: "App",
      export_method: "development",
      xcargs: "DEVELOPMENT_TEAM=3GNC95S8K6"
    )
  end
end
